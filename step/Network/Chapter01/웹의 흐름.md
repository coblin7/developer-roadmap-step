# 웹의 흐름
***

브라우저는 웹 서버와 웹 클라이언트가 통신하며 HTML 문서나 파일을 GUI 기반의 네트워크 애플리케이션이다.
브라우저는 제일 먼저 웹 서버에 보내는 리퀘스트 메시지를 작성하기 위해 URL을 해독한다.

사용자가 URL을 입력하면 브라우저는 URL 의미를 해석하여 의미에 해당하는 리퀘스트 메시지를 만들어 낸다.
예로 naver.com/sample.html 이란 URL이 주어졌을 때 sample.html 파일의 저장된 데이터를 요청하는 리퀘스트 메시지가 만들어지게 되고 웹 서버에 보낸다.

***

## 브라우저 동작

__1. HTTP 리퀘스트 메시지 작성__
- 브라우저는 리퀘스트 메시지에 따라 웹 서버에 무엇을 할 지 요청한다.

__2. 웹 서버의 IP 주소를 DNS 서버에 조회한다.__
- 메시지를 만들고 OS에 의뢰하여 웹 서버에 송신하는데 이 때 OS에 웹 서버측의 IP를 통지해야 한다.
- 브라우저는 웹 서버의 IP 주소를 조회하는데, URL 안에 웹 서버의 도메인 명이 있고 이를 DNS 서버에서 조회하여 IP 주소를 획득한다.

```
URL은 HTTP 뿐만 아니라 ftp: , file: , mailto: 로 시작하는 것 등 여러가지가 있다.
브라우저는 웹 서버에 액세스하는 클라이언트로 사용하는 경우가 많지만, 파일을 다운로드/업로드 하는 ftp의 클라이언트 기능도 있다.
모든 URL의 공통점은 액세스할 때의 프로토콜 종류를 작성하여 액세스 하는 방법을 나타낸다.
```

***

## HTTP

__1. HTTP의 의미__
- HTTP 프로토콜은 클라이언트와 서버가 주고받는 메시지의 내용이나 순서등의 규약이다.
- 리퀘스트 메시지에는 URI와 메소드를 포함하여 서버 측에 요청한다.
- 서버는 URI와 메시지를 조사하여 요구에 따라 동작하고 결과 데이터를 응답 메시지에 저장한다.
- 응답 메시지의 맨 앞에는 실행 결과가 정상인지 이상이 발생했는지를 나타내는 스테이터스 코드가 있다. (404에러 등이 스테이터스 코드에 해당한다) 그 후 헤더 파일과 페이지 데이터가 이어진다.

__2. HTTP 메서드__
- GET : 가장 자주 사용되며, 웹 서버에 액세스 하여 페이지의 데이터를 읽을 때 사용한다.
> 리퀘스트 메시지의 메서드에 GET을 명시하고 URI를 통해 요청할 파일의 이름을 쓴다.
> 서버에서는 요청한 파일의 데이터를 추출하여 클라이언트로 반송한다.

- POST : 폼에 데이터를 웹 서버에 송신하는 경우 사용한다.
> 웹 서버 소프트웨어는 URI에 지정된 애플리케이션 프로그램에게 리퀘스트 메시지의 안에 쓰여이는 데이터를 건네주고 출력하는 데이터를 받아 응답 메시지에 포함시킨 후 클라이언트에 반송한다.

## 리퀘스트 메시지

- 브라우저나 웹 서버는 HTTP 메시지 포맷에 맞게 메시지를 만든다.
- 리퀘스트 메시지의 첫 번째 행에는 '리퀘스트 라인'이 작성되는데 이 행을 통해 리퀘스트의 내용을 대략적으로 알 수 있다.
- 두 번째 행부터 '메시지 헤더'라 하며 한 행에 한 개의 헤더 필드를 쓴다. 리퀘스트의 부가적인 정보를 나타낸다.
- 세 번째 행은 메시지의 본문이 나온다.

- 응답 메시지는 스테이터스 라인이 나타나고 메시지 헤더 메시지 본문 순으로 나타난다.

***
※ 네트워크 애플리케이션에서는 네트워크를 제어하는 기능이 없으며, OS에 의뢰하여 네트워크를 제어한다.
